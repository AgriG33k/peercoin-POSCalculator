<html>
<head>
<script type="text/javascript">

function is_int(value){ 
  if((parseFloat(value) == parseInt(value)) && !isNaN(value)){
      return true;
  } else { 
      return false;
  } 
}


</script>
<script type="text/javascript">
function run() {
//   alert("calculating the Proof Of Stake reward");
    var coinValue = document.getElementById('NumberOfCoinsStart').value
	var Days = document.getElementById('AgeOfTransaction').value
//	alert("Number Of Coins Start = " + coinValue);
//	alert("Age of transaction = " + Days);
	var customPOSReward = calculateReward(Days, coinValue);
	var minPOSReward = calculateReward(31, coinValue);
	var maxPOSReward = calculateReward(91, coinValue);
	var customDayTotal = parseFloat(customPOSReward)+parseFloat(coinValue);
	var maxDayTotal = parseFloat(maxPOSReward)+parseFloat(coinValue);
	var minDayTotal = parseFloat(minPOSReward)+parseFloat(coinValue);
	//alert("Proof Of Stake Reward = " + customPOSReward);
	document.getElementById('customDay').innerHTML = customPOSReward + ' PPC';
	document.getElementById('30Day').innerHTML = minPOSReward + ' PPC';
	document.getElementById('90Day').innerHTML = maxPOSReward + ' PPC';
	document.getElementById('customDayTotal').innerHTML = customDayTotal;
	document.getElementById('30DayTotal').innerHTML = minDayTotal;
	document.getElementById('90DayTotal').innerHTML = maxDayTotal;
	
	////second compound interest ////
	var customPOSReward2 = calculateReward(Days, customDayTotal);
	var minPOSReward2 = calculateReward(31, minDayTotal);
	var maxPOSReward2 = calculateReward(91, maxDayTotal);
	var customDayTotal2 = parseFloat(customPOSReward2)+parseFloat(customDayTotal);
	var minDayTotal2 = parseFloat(minPOSReward2)+parseFloat(minDayTotal);
	var maxDayTotal2 = parseFloat(maxPOSReward2)+parseFloat(maxDayTotal);
	//alert("Proof Of Stake Reward = " + customPOSReward2);
	document.getElementById('customDay2').innerHTML = customPOSReward2 + ' PPC';
	document.getElementById('30Day2').innerHTML = minPOSReward2 + ' PPC';
	document.getElementById('90Day2').innerHTML = maxPOSReward2 + ' PPC';
	document.getElementById('customDayTotal2').innerHTML = customDayTotal2;
	document.getElementById('30DayTotal2').innerHTML = minDayTotal2;
	document.getElementById('90DayTotal2').innerHTML = maxDayTotal2;
}
function calculateReward(days, coins){
	return (days<31?0:((days*coins)*33/((365*33+8))*0.01));
}

</script>
</head>
<body>
<h1>Peercoin Proof Of Stake (POS) calculator</h1>
 <form type="post">
       Number Of Coins Start <input type ="textbox" id="NumberOfCoinsStart" value="1000" onBlur="return is_int(this)"><br>
        Age of transaction (days) <input type="textbox" id="AgeOfTransaction" value="31"><br>
		<input type="button" onclick="run()" value="Calculate POS reward"></input>

 <table>
 <tr>
 <th width="50px">
 <label >Compound Iteration</label>
  </th>
 <th width="200px">
 <label >POS reward </label>
  </th>
  <th width="200px">
 <label >30 day POS reward </label>
  </th>
  <th width="200px">
 <label >90 day POS reward </label>
  </th>
  <th width="200px">
 <label >custom day PPC total </label>
  </th>
  <th width="200px">
 <label >30 day PPC total </label>
  </th>
  <th width="200px">
 <label >90 day PPC total </label>
  </th>
 </tr>
 <tr>
 <td>
 1
  </td>
  <td>
 <label id="customDay"> </label>
  </td>
  <td>
 <label id="30Day"> </label>
  </td>
  <td>
 <label id="90Day"> </label>
  </td>
   <td>
 <label id="customDayTotal"> </label>
  </td>
  <td>
 <label id="30DayTotal"> </label>
  </td>
  <td>
 <label id="90DayTotal"> </label>
  </td>
 </tr>
 <tr>
 <td>
 2
  </td>
 <td>
 <label id="customDay2"> </label>
  </td>
  <td>
 <label id="30Day2"> </label>
  </td>
  <td>
 <label id="90Day2"> </label>
  </td>
  <td>
 <label id="customDayTotal2"> </label>
  </td>
  <td>
 <label id="30DayTotal2"> </label>
  </td>
  <td>
 <label id="90DayTotal2"> </label>
  </td>
 </tr>
 </table>
</form>
</br>
<div id="footer">
<a href="https://github.com/FuzzyBearBTC/peercoin-POSCalculator">Github Source Code</a>
</div>
</body>
</html>
